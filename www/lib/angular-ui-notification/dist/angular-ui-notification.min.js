/**
 * angular-ui-notification - Angular.js service providing simple notifications using Bootstrap 3 styles with css transitions for animating
 * @author Alex_Crack
 * @version v0.0.12
 * @link https://github.com/alexcrack/angular-ui-notification
 * @license MIT
 */
angular.module("ui-notification",[]),angular.module("ui-notification").provider("Notification",function(){this.options={delay:5e3,startTop:10,startRight:10,verticalSpacing:10,horizontalSpacing:10,positionX:"right",positionY:"top",replaceMessage:!1,templateUrl:"angular-ui-notification.html"},this.setOptions=function(t){if(!angular.isObject(t))throw new Error("Options should be an object!");this.options=angular.extend({},this.options,t)},this.$get=["$timeout","$http","$compile","$templateCache","$rootScope","$injector","$sce","$q",function(t,e,i,n,o,a,s,r){var l=this.options,p=l.startTop,c=l.startRight,u=l.verticalSpacing,d=l.horizontalSpacing,m=l.delay,g=[],f=function(a,f){var h=r.defer();return"object"!=typeof a&&(a={message:a}),a.scope=a.scope?a.scope:o,a.template=a.templateUrl?a.templateUrl:l.templateUrl,a.delay=angular.isUndefined(a.delay)?m:a.delay,a.type=f?f:"",a.positionY=a.positionY?a.positionY:l.positionY,a.positionX=a.positionX?a.positionX:l.positionX,a.replaceMessage=a.replaceMessage?a.replaceMessage:l.replaceMessage,e.get(a.template,{cache:n}).success(function(e){var n=a.scope.$new();n.message=s.trustAsHtml(a.message),n.title=s.trustAsHtml(a.title),n.t=a.type.substr(0,1),n.delay=a.delay;var o=function(){for(var t=0,e=0,i=p,n=c,o=[],s=g.length-1;s>=0;s--){var r=g[s];if(a.replaceMessage&&s<g.length-1)r.addClass("killed");else{var l=parseInt(r[0].offsetHeight),m=parseInt(r[0].offsetWidth),f=o[r._positionY+r._positionX];h+l>window.innerHeight&&(f=p,e++,t=0);var h=(i=f?f:p)+(0===t?0:u),v=n+e*(d+m);r.css(r._positionY,h+"px"),r.css(r._positionX,v+"px"),o[r._positionY+r._positionX]=h+l,t++}}},r=i(e)(n);r._positionY=a.positionY,r._positionX=a.positionX,r.addClass(a.type),r.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd click",function(t){t=t.originalEvent||t,("click"===t.type||"opacity"===t.propertyName&&t.elapsedTime>=1)&&(r.remove(),g.splice(g.indexOf(r),1),o())}),angular.isNumber(a.delay)&&t(function(){r.addClass("killed")},a.delay),angular.element(document.getElementsByTagName("body")).append(r);var l=-(parseInt(r[0].offsetHeight)+50);r.css(r._positionY,l+"px"),g.push(r),n._templateElement=r,n.kill=function(e){e?(g.splice(g.indexOf(n._templateElement),1),n._templateElement.remove(),t(o)):n._templateElement.addClass("killed")},t(o),h.resolve(n)}).error(function(t){throw new Error("Template ("+a.template+") could not be loaded. "+t)}),h.promise};return f.primary=function(t){return this(t,"primary")},f.error=function(t){return this(t,"error")},f.success=function(t){return this(t,"success")},f.info=function(t){return this(t,"info")},f.warning=function(t){return this(t,"warning")},f.clearAll=function(){var t=angular.element(document.getElementsByClassName("ui-notification"));t&&angular.forEach(t,function(t){t.remove()})},f}]}),angular.module("ui-notification").run(["$templateCache",function(t){t.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}]);