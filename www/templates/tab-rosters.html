<ion-view view-title="邻居">
    <ion-nav-buttons side="right">
        <a class="button button-clear" ng-click="popupAddingContactTypeDialog()">
            <i class="ion-ios-plus-outline add-contact"></i>
        </a>
    </ion-nav-buttons>
    <ion-content>
        <ion-list>
            <div class="item item-divider" ng-if="rooms.length > 0">
                我的房间
            </div>
            <ion-item class="item-avatar item-icon-right" ng-repeat="room in rooms"
                      type="item-text-wrap"
                      ng-click="openChatDialog(room, 'room')">
                <img ng-src="{{room.avatar}}" style="border-radius: 5px">
                <span class="badge badge-assertive" ng-if="room.unread > 0">{{room.unread}}</span>

                <h2>{{room.name}}</h2>

                <p>{{room.jid}}</p>
                <ion-option-button class="button button-calm" ng-click="goInviteMyFriendPage(room.jid)">
                    邀请
                </ion-option-button>
                <ion-option-button class="button button-assertive" ng-click="removeSingleRoster(room.jid)">
                    离开
                </ion-option-button>
            </ion-item>

            <div class="item item-divider" ng-if="rosters.length > 0">
                我的邻居
            </div>
            <ion-item class="item-avatar item-icon-right" ng-repeat="roster in rosters"
                      type="item-text-wrap"
                      ng-click="openChatDialog(roster, 'single')">
                <img ng-src="{{roster.avatar}}" style="border: #fff 2px solid">
                <span class="badge badge-assertive" ng-if="roster.unread > 0">{{roster.unread}}</span>

                <h2>{{roster.name}}</h2>

                <p>{{roster.jid}}</p>
                <ion-option-button class="button button-assertive" ng-click="removeSingleRoster(roster.jid)">删除
                </ion-option-button>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>
